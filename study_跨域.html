<!DOCTYPE html>
<html lang="en">

<head>
    <title>跨域</title>
</head>
<style>
</style>

<body>
    <div id="app">
        1、websocket
        2、postaMessage
        3、jsonp
        4、后台设置 cors设置请求
        5、iframe+window.name
        其实location.hash和window.name都是差不多的，都是利用全局对象属性的方法，然后这两种方法和jsonp也是一样的，就是只能够实现get请求
        6、CORS是一个W3C标准，全称是"跨域资源共享"（Cross-origin resource sharing）。
        它允许浏览器向跨源服务器，发出XMLHttpRequest请求，
        从而克服了AJAX只能同源使用的限制。
        实现CORS通信的关键是服务器。只要服务器实现了CORS接口，就可以跨源通信。 withCredentials
        7、nginx代理跨域
        8 webpack proxy pathRewrite

        var ws = new WebSocket("wss://echo.websocket.org");

        ws.onopen = function(evt) { 
          console.log("Connection open ..."); 
          ws.send("Hello WebSockets!");
        };
        
        ws.onmessage = function(evt) {
          console.log( "Received Message: " + evt.data);
          ws.close();
        };
        
        ws.onclose = function(evt) {
          console.log("Connection closed.");
        };

        var data = new ArrayBuffer(10000000);
        socket.send(data);
        
        if (socket.bufferedAmount === 0) {
          // 发送完毕
        } else {
          // 发送还没结束
        }   
        socket.onerror = function(event) {
            // handle error event
          };
          
          socket.addEventListener("error", function(event) {
            // handle error event
          });



    </div>
    <script type="text/javascript">
        iframe = document.createElement('iframe'),
            iframe.src = 'http://localhost:8080/data.php';
        document.body.appendChild(iframe);
        iframe.onload = function () {
            console.log(iframe.contentWindow.name)
        };
    </script>


</body>

</html>